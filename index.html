<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Snap-on å°å°çŸ¥è­˜ç‹</title>

  <style>
    :root{
      --w: min(920px, 94vw);
    }

    html, body { height: 100%; }

    body{
      margin:0;
      font-family: system-ui, -apple-system, "Noto Sans TC", Segoe UI, Roboto, Arial, "Helvetica Neue", Helvetica, "å¾®è»Ÿæ­£é»‘é«”", sans-serif;
      color:#e5e7eb;
      background: #0f172a url('assets/01.png') center 62% / 75% no-repeat fixed;
    }

    body::before{
      content:"";
      position:fixed;
      inset:0;
      background: rgba(0,0,0,.45);
      z-index:-1;
    }

    header{
      width: min(45vw, var(--w));
      margin:60px 0 10px auto;
      padding:0 8px;
    }
    header > *{
      max-width:90%;
      margin-left:auto;
    }

    h1{
      margin:0;
      font-size: clamp(24px, 5vw, 38px);
      letter-spacing:.5px;
    }
    p.sub{ margin:6px 0 0; color:#cbd5e1; }

    main{
      width: min(45vw, var(--w));
      margin:10px 20vw 60px auto;
      padding:16px;
      display:flex;
      flex-direction:column;
      align-items:flex-end;
    }

    .card{
      background:#0b1220cc;
      border:1px solid #1f2937;
      border-radius:18px;
      padding:18px;
      margin:14px 0;
      box-shadow:0 10px 30px rgba(0,0,0,.25);
      width:25vw;
      box-sizing:border-box;
    }

    .q{
      font-weight:800;
      font-size:20px;
      margin:6px 0 12px;
    }

    .section-title{
      font-size:18px;
      font-weight:800;
      color:#365F91;
      margin-bottom:4px;
    }

    .choices{
      display:grid;
      grid-template-columns:1fr;
      gap:12px;
    }
    .choices button{
      text-align:left;
      border:1px solid #334155;
      background:#0f172a;
      color:#e5e7eb;
      padding:12px 14px;
      border-radius:12px;
      cursor:pointer;
      transition: transform .02s ease-in, border-color .15s ease;
    }
    .choices button:hover{
      transform: translateY(-1px);
      border-color:#60a5fa;
    }
    .choices button.selected{
      border-color:#60a5fa;
      box-shadow:0 0 0 3px rgba(96,165,250,.25) inset;
    }

    #explain{
      margin-top:8px;
      align-self:flex-end;
    }
    .explain-card{
      background:#111827cc;
      border:1px solid #1f2937;
      border-radius:12px;
      padding:12px 14px;
      font-size:14px;
      width:25vw;
      box-sizing:border-box;
    }

    .controls{
      margin-top:14px;
      width:90%;
      height:40px;
    }

    .btn{
      background:#2563eb;
      color:white;
      border:none;
      padding:12px 16px;
      border-radius:12px;
      cursor:pointer;
      font-weight:700;
    }

    /* âœ… ä¸‹ä¸€é¡Œ / äº¤å· å›ºå®šåœ¨å³å´ 30vwã€ä¸‹å´ 5vw */
    #next,
    #finish{
      position:fixed;
      right:30vw;
      bottom:5vw;
      z-index:20;
    }

    .result{
      padding:16px;
      border-radius:12px;
      background:#052e16;
      border:1px solid #14532d;
      color:#bbf7d0;
      width:90%;
      margin-top:16px;
      box-sizing:border-box;
    }

    footer{
      width: min(45vw, var(--w));
      margin:0 0 30px auto;
      padding:0 8px;
      color:#cbd5e1;
      font-size:12px;
    }

    .corner-gif{
      position:fixed;
      top:12px;
      left:12px;
      width:126px;
      z-index:10;
      pointer-events:none;
      border-radius:12px;
    }

    @media (max-width: 640px){
      header{
        width: var(--w);
        margin:40px auto 10px;
      }
      header > *{
        max-width:100%;
        margin-left:0;
      }

      main, footer{
        width: var(--w);
        margin-left:auto;
        margin-right:auto;
      }

      main{
        align-items:stretch;
      }
      .card,
      .result{
        width:100%;
      }
      .explain-card{
        width:100%;
      }

      #next,
      #finish{
        position:static;
        margin-top:8px;
      }
      .controls{
        height:auto;
      }
    }
  </style>
</head>
<body>
  <img class="corner-gif" src="assets/Snap Spark Sticker by Snap-on Tools.gif" alt="Snap-on spark sticker" />

  <header>
    <h1>Snap-on å°å°çŸ¥è­˜ç‹</h1>
    <p class="sub">æ¸¬è©¦çœ‹çœ‹ä½ å° Snap-on çš„äº†è§£ç¨‹åº¦!</p>
  </header>

  <main>
    <div id="quiz"></div>
    <div id="explain"></div>

    <div class="controls">
      <button id="next" class="btn">ä¸‹ä¸€é¡Œ</button>
      <button id="finish" class="btn" style="display:none">äº¤å·</button>
    </div>

    <div id="summary"></div>
  </main>

  <footer></footer>

<script>
/********************
 * é¡Œåº«ï¼ˆå…± 10 é¡Œï¼‰
 ********************/
const QUESTIONS = [
  {
    q:'Snap-on æˆç«‹æ–¼å“ªä¸€å¹´ï¼Ÿ',
    options:['1910 å¹´','1920 å¹´','1930 å¹´','1940 å¹´'],
    answer:1,
    explain:'ğŸ’¡ è§£æï¼šSnap-on æ–¼ 1920 å¹´åœ¨ç¾åœ‹å¨æ–¯åº·è¾›å· Kenosha æˆç«‹ï¼Œé–‹å•Ÿäº†ç™¾å¹´å°ˆæ¥­å·¥å…·çš„å‚³å¥‡æ—…ç¨‹ã€‚'
  },
  {
    q:'Snap-on å‰µè¾¦äºº Joseph Johnson ç•¶å¹´è¨­è¨ˆçš„å£è™Ÿæ˜¯ï¼Ÿ',
    options:[
      'ä¸€å¥—å·¥å…·åšå…¨éƒ¨çš„äº‹ï¼',
      'äº”å€‹å·¥å…·å¹¹äº”åä»¶æ´»ï¼',
      'é€Ÿåº¦æ±ºå®šä¸€åˆ‡ï¼',
      'è®“å·¥å…·æœƒæ€è€ƒï¼'
    ],
    answer:1,
    explain:'ğŸ’¡ è§£æï¼šâ€œFive do the work of Fiftyâ€ æ˜¯ Snap-on çš„å‰µæ¥­ç²¾ç¥ï¼Œä»£è¡¨å‰µæ–°èˆ‡é«˜æ•ˆç‡çš„è±¡å¾µã€‚'
  },
  {
    q:'Snap-on ç¬¬ä¸€é …å°ˆåˆ©ç”¢å“æ˜¯ä»€éº¼ï¼Ÿ',
    options:[
      'å¯æ›´æ›çš„å¥—ç­’çµ„',
      'No. 6 æ£˜è¼ªæ‰³æ‰‹',
      'ç¬¬ä¸€å°æ°£å‹•å·¥å…·',
      'ç¬¬ä¸€å°å·¥å…·è»Š'
    ],
    answer:1,
    explain:'ğŸ’¡ è§£æï¼šNo. 6 Ratchet æ˜¯ Snap-on çš„ç¬¬ä¸€é …å°ˆåˆ©ï¼Œå¥ å®šå…¶ç²¾å¯†å·¥ç¨‹èˆ‡å‰µæ–°è¨­è¨ˆçš„åŸºç¤ã€‚'
  },
  {
    q:'äºŒæˆ°æ™‚æœŸï¼ŒSnap-on çš„å·¥å…·ä¸»è¦æ”¯æ´å“ªå€‹é ˜åŸŸï¼Ÿ',
    options:[
      'å®¶åº­ä¿®ç¹•',
      'æ‘©æ‰˜è»Šæ”¹è£',
      'è¾²æ¥­æ©Ÿå…·',
      'èˆªç©ºèˆ‡è»ç”¨ç¶­ä¿®'
    ],
    answer:3,
    explain:'äºŒæˆ°æœŸé–“ï¼ŒSnap-on å·¥å…·å»£æ³›æ‡‰ç”¨æ–¼è»ç”¨è»Šè¼›èˆ‡èˆªç©ºç¶­ä¿®ï¼Œæ”¯æ´è»äº‹èˆ‡èˆªç©ºé ˜åŸŸã€‚'
  },
  {
    q:'Snap-on æœ€å…·ä»£è¡¨æ€§çš„ Flank DriveÂ® æŠ€è¡“æœ‰ä»€éº¼ç‰¹é»ï¼Ÿ',
    options:[
      'è®“èºå¸½ä¸å†æ»‘ç‰™',
      'è¶…è¼•é‡è¨­è¨ˆ',
      'å¯è‡ªå‹•æ ¡æ­£æ‰­åŠ›',
      'é™„ LED ç…§æ˜'
    ],
    answer:0,
    explain:'Flank DriveÂ® é€éæ¥è§¸èºå¸½å´é¢ï¼Œè€Œéå°–è§’ï¼Œå¤§å¹…é™ä½æ»‘ç‰™é¢¨éšªä¸¦æå‡æ‰­åŠ›å‚³éæ•ˆç‡ã€‚'
  },
  {
    q:'Snap-on æ——ä¸‹çš„æ‰‹å·¥å…·å“ç‰Œ Bahco èµ·æºæ–¼å“ªå€‹åœ‹å®¶ï¼Ÿ',
    options:[
      'ç¾åœ‹',
      'å¾·åœ‹',
      'ç‘å…¸',
      'æ—¥æœ¬'
    ],
    answer:2,
    explain:'Bahco èµ·æºæ–¼ç‘å…¸ï¼Œæ˜¯ä»¥æ´»å‹•æ‰³æ‰‹èˆ‡é‹¸ç‰‡èåçš„å°ˆæ¥­æ‰‹å·¥å…·å“ç‰Œã€‚'
  },
  {
    q:'åœ¨ä¸–ç•Œå„åœ°çš„å°ˆæ¥­ä¿®è»Šå» ä¸­ï¼Œå“ªå€‹é¡è‰²æœ€èƒ½ä»£è¡¨ Snap-onï¼Ÿ',
    options:[
      'è—è‰²',
      'ç´…è‰²',
      'é»‘è‰²',
      'éŠ€è‰²'
    ],
    answer:1,
    explain:'é®®æ˜çš„ç´…è‰²å·¥å…·èˆ‡å·¥å…·è»Šï¼Œæ˜¯è¨±å¤šå°ˆæ¥­ä¿®è»Šå» ä¸­ Snap-on æœ€å…·ä»£è¡¨æ€§çš„è¦–è¦ºå½¢è±¡ã€‚'
  },
  {
    q:'Snap-on åœ¨ç¾åœ‹é¦–å‰µçš„ã€Œè¡Œå‹•å·¥å…·è»Šï¼ˆTool Truckï¼‰ã€æœ‰ä½•ç‰¹åˆ¥ä¹‹è™•ï¼Ÿ',
    options:[
      'è³£å†°æ·‡æ·‹çš„åŒæ™‚è³£å·¥å…·',
      'æä¾›ä¸Šé–€ç¶­ä¿®æœå‹™',
      'æŠ€å¸«å¯åœ¨é–€å£ç›´æ¥é¸è³¼',
      'å±•ç¤ºæ–°è»Šè©¦é§•'
    ],
    answer:2,
    explain:'è¡Œå‹•å·¥å…·è»Šæœƒé–‹åˆ°ä¿®è»Šå» é–€å£ï¼Œè®“æŠ€å¸«ç›´æ¥åœ¨é–€å£è©¦ç”¨ã€é¸è³¼å·¥å…·ï¼Œæ˜¯ç¨ç‰¹çš„ç›´éŠ·æ¨¡å¼ã€‚'
  },
  {
    q:'Snap-on é•·æœŸè¢«è¦–ç‚ºå“ªä¸€é¡å°ˆæ¥­äººå£«çš„æ¨™æº–å“ç‰Œï¼Ÿ',
    options:[
      'å»ºç¯‰å¸«',
      'æ±½è»Šç¶­ä¿®æŠ€å¸«',
      'é†«å¸«',
      'é£›è¡Œå“¡'
    ],
    answer:1,
    explain:'åœ¨å…¨çƒå°ˆæ¥­æ±½è»Šç¶­ä¿®èˆ‡ç›¸é—œç”¢æ¥­ä¸­ï¼ŒSnap-on è¢«è¦–ç‚ºå·¥å…·æ¨™ç«¿å“ç‰Œä¹‹ä¸€ã€‚'
  },
  {
    q:'2017 å¹´ 4 æœˆï¼Œå“ªä½ç¾åœ‹ç¸½çµ±è¦ªè‡ªé€ è¨ª Snap-on ä½æ–¼å¨æ–¯åº·è¾›å· Kenosha çš„ç¸½éƒ¨ï¼Ÿ',
    options:[
      'Barack Obama',
      'George W. Bush',
      'Donald J. Trump',
      'Joe Biden'
    ],
    answer:2,
    explain:'2017 å¹´ 4 æœˆï¼Œæ™‚ä»»ç¾åœ‹ç¸½çµ± Donald J. Trump åƒè¨ª Snap-on åœ¨ Kenosha çš„ç¸½éƒ¨ã€‚'
  },
];

/********************
 * ç‹€æ…‹èˆ‡è¨­å®š
 ********************/
let state = {
  idx: 0,
  score: 0,
  selected: {},          // æ¯é¡Œé¸å“ªä¸€å€‹ index
  startAt: Date.now(),
  finished: false,
  explainShown: {}       // ç´€éŒ„å“ªé¡Œå·²ç¶“é¡¯ç¤ºéè§£æ
};

const POINTS_PER_Q = 1;

const $  = (s)=>document.querySelector(s);
const quizEl     = $('#quiz');
const explainEl  = $('#explain');
const nextBtn    = $('#next');
const finishBtn  = $('#finish');
const summaryEl  = $('#summary');

function formatTime(sec){
  const m = Math.floor(sec/60).toString().padStart(2,'0');
  const s = Math.floor(sec%60).toString().padStart(2,'0');
  return `${m}:${s}`;
}

/********************
 * ç¹ªè£½é¡Œç›®ç•«é¢
 ********************/
function render(){
  const total = QUESTIONS.length;

  nextBtn.style.display  = state.idx < total-1 ? 'inline-block' : 'none';
  finishBtn.style.display= state.idx === total-1 ? 'inline-block' : 'none';

  const q = QUESTIONS[state.idx];
  quizEl.innerHTML = '';
  explainEl.innerHTML = '';

  const card = document.createElement('div');
  card.className = 'card';

  if (state.idx === 0){
    const t = document.createElement('div');
    t.className = 'section-title';
    t.textContent = '1ï¸âƒ£ å‰µæ¥­å‚³å¥‡';
    card.appendChild(t);
  }
  if (state.idx === 1){
    const t = document.createElement('div');
    t.className = 'section-title';
    t.textContent = '2ï¸âƒ£ é©å‘½æ€§çš„å‰µæ„';
    card.appendChild(t);
  }
  if (state.idx === 2){
    const t = document.createElement('div');
    t.className = 'section-title';
    t.textContent = '3ï¸âƒ£ å°ˆåˆ©é–‹ç«¯';
    card.appendChild(t);
  }
  if (state.idx === 3){
    const t = document.createElement('div');
    t.className = 'section-title';
    t.textContent = '4ï¸âƒ£ æˆ°å ´ä¸Šçš„å·¥å…·è‹±é›„';
    card.appendChild(t);
  }
  if (state.idx === 4){
    const t = document.createElement('div');
    t.className = 'section-title';
    t.textContent = '5ï¸âƒ£ Flank DriveÂ® çš„é­”åŠ›';
    card.appendChild(t);
  }
  if (state.idx === 5){
    const t = document.createElement('div');
    t.className = 'section-title';
    t.textContent = '6ï¸âƒ£ ç™¾å¹´å‚³æ‰¿çš„æ­æ´²è¡€çµ±';
    card.appendChild(t);
  }
  if (state.idx === 6){
    const t = document.createElement('div');
    t.className = 'section-title';
    t.textContent = '7ï¸âƒ£ ç´…è‰²å·¥å…·è»Šçš„å‚³å¥‡';
    card.appendChild(t);
  }
  if (state.idx === 7){
    const t = document.createElement('div');
    t.className = 'section-title';
    t.textContent = '8ï¸âƒ£ ç§»å‹•çš„å±•ç¤ºé–“';
    card.appendChild(t);
  }
  if (state.idx === 8){
    const t = document.createElement('div');
    t.className = 'section-title';
    t.textContent = '9ï¸âƒ£ ç²¾æº–çš„ä»£åè©';
    card.appendChild(t);
  }
  if (state.idx === 9){
    const t = document.createElement('div');
    t.className = 'section-title';
    t.textContent = 'ğŸ”Ÿ ç¸½çµ±é€ è¨ª Snap-on';
    card.appendChild(t);
  }

  const qEl = document.createElement('div');
  qEl.className = 'q';
  qEl.textContent = q.q;
  card.appendChild(qEl);

  const choices = document.createElement('div');
  choices.className = 'choices';

  q.options.forEach((opt, i) => {
    const btn = document.createElement('button');
    btn.textContent = `${'ABCD'[i]}. ${opt}`;

    const sel = state.selected[state.idx];
    if (sel === i) btn.classList.add('selected');

    btn.addEventListener('click', () => {
      state.selected[state.idx] = i;
      render();
    });

    choices.appendChild(btn);
  });

  card.appendChild(choices);
  quizEl.appendChild(card);
}

/********************
 * é¡¯ç¤ºè§£æ
 ********************/
function showExplain(idx){
  const text = QUESTIONS[idx].explain;
  if (!text) return;
  explainEl.innerHTML = `
    <div class="explain-card">
      ${text}
    </div>
  `;
}

/********************
 * è¨ˆç®—æˆç¸¾
 ********************/
function grade(){
  let score = 0;

  QUESTIONS.forEach((q, i) => {
    const sel = state.selected[i];
    if (sel === q.answer) {
      score += POINTS_PER_Q;
    }
  });

  state.score    = score;
  state.finished = true;

  const maxScore = QUESTIONS.length * POINTS_PER_Q;
  const percent  = Math.round((score / maxScore) * 100);
  const used     = Math.round((Date.now() - state.startAt) / 1000);

  summaryEl.innerHTML = `
    <div class="result">
      <strong>æˆç¸¾</strong>ï¼š${score} / ${maxScore}ï¼ˆ${percent}%ï¼‰<br>
      <strong>ä½œç­”æ™‚é–“</strong>ï¼š${formatTime(used)}
    </div>
  `;

  window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
}

/********************
 * äº‹ä»¶èˆ‡åˆå§‹åŒ–
 ********************/
nextBtn.addEventListener('click', () => {
  const total = QUESTIONS.length;
  const idx   = state.idx;

  // âœ… ç¬¬ 1ï½3 é¡Œï¼šå…ˆé¡¯ç¤ºè§£æï¼Œå†é€²ä¸‹ä¸€é¡Œ
  if (idx <= 2 && !state.explainShown[idx]){
    if (typeof state.selected[idx] !== 'number'){
      alert('è«‹å…ˆé¸æ“‡ä¸€å€‹ç­”æ¡ˆå–”ï¼');
      return;
    }
    state.explainShown[idx] = true;
    showExplain(idx);
    return;
  }

  if (idx < total - 1) {
    state.idx++;
    render();
  }
});

finishBtn.addEventListener('click', grade);

render();
</script>
</body>
</html>
