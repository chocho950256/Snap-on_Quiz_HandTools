<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Snap-on å°å°çŸ¥è­˜ç‹</title>

  <style>
    :root{
      --w: min(920px, 94vw);
    }

    html, body { height: 100%; }

    body{
      margin:0;
      font-family: system-ui, -apple-system, "Noto Sans TC", Segoe UI, Roboto, Arial, "Helvetica Neue", Helvetica, "å¾®è»Ÿæ­£é»‘é«”", sans-serif;
      color:#e5e7eb;
      /* âœ… èƒŒæ™¯åœ–ç¸®å°å† 10%ï¼Œä¸¦å‘ä¸‹ç§» 10%ï¼ˆcenter 60% / 80%ï¼‰ */
      background: #0f172a url('assets/01.png') center 60% / 80% no-repeat fixed;
    }
    /* èƒŒæ™¯é®ç½©ï¼Œè®“æ–‡å­—æ›´æ¸…æ¥š */
    body::before{
      content:"";
      position:fixed;
      inset:0;
      background: rgba(0,0,0,.45);
      z-index:-1;
    }

    /* === å³åŠéƒ¨ç‰ˆé¢è¨­å®š === */

    /* æ•´å€‹æ¨™é¡Œå€æ”¾åœ¨ç•«é¢å³åŠéƒ¨ï¼Œå¯¬åº¦æœ€å¤š 50vw */
    header{
      width: min(50vw, var(--w));
      margin:30px 0 10px auto;  /* top right bottom left, é å³ */
      padding:0 8px;
    }
    /* âœ… è®“æ¨™é¡Œæ–‡å­—æœ¬èº«åªä½” header çš„ 90%ï¼Œä¸¦é å³è²¼é½Š */
    header > *{
      max-width:90%;
      margin-left:auto;
    }

    h1{
      margin:0;
      font-size: clamp(24px, 5vw, 38px);
      letter-spacing:.5px;
    }
    p.sub{ margin:6px 0 0; color:#cbd5e1; }

    /* é¡Œç›®å€åŒæ¨£åœ¨ç•«é¢å³åŠéƒ¨ï¼Œå¯¬åº¦æœ€å¤š 50vwï¼Œå…§éƒ¨å…ƒç´ å¾€å³å°é½Š */
    main{
      width: min(50vw, var(--w));
      margin:10px 0 60px auto;   /* é å³ */
      padding:16px;
      display:flex;
      flex-direction:column;
      align-items:flex-end;       /* å…§éƒ¨å…ƒç´ å¾€å³é  */
    }

    .card{
      background:#0b1220cc;
      border:1px solid #1f2937;
      border-radius:18px;
      padding:18px;
      margin:14px 0;
      box-shadow:0 10px 30px rgba(0,0,0,.25);
      /* âœ… é¡Œç›®åº•éƒ¨é»‘è‰²èƒŒæ™¯åªç”¨ main å¯¬åº¦çš„ 90%ï¼Œå¤§ç´„æ˜¯æ•´å€‹ç•«é¢å³åŠéƒ¨ */
      width:90%;
    }

    .meta{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
      color:#cbd5e1;
      font-size:14px;
    }
    .pill{
      background:#111827cc;
      padding:6px 12px;
      border-radius:999px;
      border:1px solid #334155;
    }

    .q{
      font-weight:800;
      font-size:20px;
      margin:6px 0 12px;
    }

    .choices{
      display:grid;
      grid-template-columns:1fr;
      gap:12px;
    }
    .choices button{
      text-align:left;
      border:1px solid #334155;
      background:#0f172a;
      color:#e5e7eb;
      padding:12px 14px;
      border-radius:12px;
      cursor:pointer;
      transition: transform .02s ease-in, border-color .15s ease;
    }
    .choices button:hover{
      transform: translateY(-1px);
      border-color:#60a5fa;
    }
    .choices button.selected{
      border-color:#60a5fa;
      box-shadow:0 0 0 3px rgba(96,165,250,.25) inset;
    }

    .controls{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:12px;
      margin-top:14px;
      width:90%;           /* è·Ÿ card å¯¬åº¦ä¸€è‡´ */
    }
    .btn{
      background:#2563eb;
      color:white;
      border:none;
      padding:12px 16px;
      border-radius:12px;
      cursor:pointer;
      font-weight:700;
    }
    .btn.ghost{
      background:transparent;
      border:1px solid #334155;
      color:#e5e7eb;
    }

    .result{
      padding:16px;
      border-radius:12px;
      background:#052e16;
      border:1px solid #14532d;
      color:#bbf7d0;
      width:90%;           /* æˆç¸¾å€ä¹Ÿå°é½Šå³åŠéƒ¨é»‘åº• */
      margin-top:16px;
    }

    .small{ font-size:12px; color:#94a3b8; }

    footer{
      width: min(50vw, var(--w));
      margin:0 0 30px auto;      /* é å³ */
      padding:0 8px;
      color:#cbd5e1;
      font-size:12px;
    }
    /* footer å…§æ–‡ä¹Ÿç¸®åˆ° 90%ï¼Œå°é½Šé¡Œç›®å€ */
    footer > *{
      max-width:90%;
      margin-left:auto;
    }

    .corner-gif{
      position:fixed;
      top:12px;
      left:12px;
      width:96px;
      z-index:10;
      pointer-events:none;
      border-radius:12px;
    }

    /* ğŸ“± å°è¢å¹•ï¼šæ”¹ç‚ºç½®ä¸­ + å…¨å¯¬ï¼Œé¿å…å¤ªçª„ä¸å¥½è®€ */
    @media (max-width: 640px){
      header, main, footer{
        width: var(--w);
        margin-left:auto;
        margin-right:auto;
      }
      header > *, footer > *{
        max-width:100%;
        margin-left:0;
      }
      main{
        align-items:stretch;
      }
      .card,
      .controls,
      .result{
        width:100%;
      }
    }
  </style>
</head>
<body>
  <!-- å·¦ä¸Šè§’ GIFï¼Œå¯è‡ªè¡Œæ›´æ›æª”æ¡ˆ -->
  <img class="corner-gif" src="assets/Snap Spark Sticker by Snap-on Tools.gif" alt="Snap-on spark sticker" />

  <header>
    <h1>Snap-on å°å°çŸ¥è­˜ç‹</h1>
    <p class="sub">æ¸¬è©¦çœ‹çœ‹ä½ å° Snap-on å·¥å…·çš„äº†è§£ç¨‹åº¦</p>
  </header>

  <main>
    <!-- ä¸Šæ–¹ HUDï¼šé€²åº¦ / å¾—åˆ† / è¨ˆæ™‚ -->
    <div class="meta card" id="hud">
      <span id="progress" class="pill">ç¬¬ 1/6 é¡Œ</span>
      <span id="score" class="pill">å¾—åˆ†ï¼š0</span>
      <span id="timer" class="pill">00:00</span>
    </div>

    <!-- é¡Œç›®å€ -->
    <div id="quiz"></div>

    <!-- ä¸‹æ–¹æ§åˆ¶æŒ‰éˆ• -->
    <div class="controls">
      <button id="prev" class="btn ghost" disabled>ä¸Šä¸€é¡Œ</button>
      <div style="flex:1"></div>
      <button id="next" class="btn">ä¸‹ä¸€é¡Œ</button>
      <button id="finish" class="btn" style="display:none">äº¤å·</button>
    </div>

    <!-- äº¤å·å¾Œæˆç¸¾é¡¯ç¤ºï¼ˆçµæœå€æœ¬èº«åœ¨ .result è£¡ï¼‰ -->
    <div id="summary"></div>
  </main>

  <footer>
    <p class="small">
      æç¤ºï¼šé¡Œç›®å¯ä»¥åœ¨ç¨‹å¼ç¢¼ä¸­
      <code>const QUESTIONS = [...]</code> è‡ªè¡Œä¿®æ”¹ï¼›èƒŒæ™¯åœ–æª”æ”¾åœ¨
      <code>assets/01.png</code>ã€‚
    </p>
  </footer>

<script>
/********************
 * 1) é¡Œåº«ï¼ˆç¤ºç¯„ï¼š6 é¡Œï¼‰
 ********************/
const QUESTIONS = [
  {
    q:'GitHub Pages ä¸»è¦ç”¨é€”æ˜¯ï¼Ÿ',
    options:['éƒ¨ç½²éœæ…‹ç¶²ç«™','ç•¶è³‡æ–™åº«ç”¨','å¯„ç™¼é›»å­å ±','åŸ·è¡Œé›²ç«¯å‡½å¼'],
    answer:0,
    explain:'Pages æœƒæŠŠ HTML/CSS/JS å…¬é–‹æˆç¶²ç«™ã€‚'
  },
  {
    q:'ä¸‹åˆ—ä½•è€…ä¸æ˜¯ Git åŸºæœ¬å‹•ä½œï¼Ÿ',
    options:['commit','push','pull','compile'],
    answer:3,
    explain:'compile æ˜¯ç·¨è­¯ï¼ŒGit å‹•ä½œä¸æ˜¯å®ƒã€‚'
  },
  {
    q:'å»ºç«‹æ–°åˆ†æ”¯å¸¸ç”¨æŒ‡ä»¤ï¼Ÿ',
    options:['git branch æ–°åˆ†æ”¯å','git make branch','git split','git new'],
    answer:0,
    explain:'ä¾‹å¦‚ï¼šgit branch feature-xã€‚'
  },
  {
    q:'README.md é€šå¸¸ä½¿ç”¨å“ªç¨®èªæ³•ï¼Ÿ',
    options:['Markdown','LaTeX','CSV','SQL'],
    answer:0,
    explain:'GitHub README é è¨­æ¡ Markdownã€‚'
  },
  {
    q:'æƒ³æŠŠç¨‹å¼è®Šæ›´ä¸Šå‚³åˆ°é ç«¯ï¼Œéœ€ä½¿ç”¨ï¼Ÿ',
    options:['git push','git add remote','git upload','git send'],
    answer:0,
    explain:'æœ¬åœ° commit å¾Œç”¨ git push ä¸Šå‚³ã€‚'
  },
  {
    q:'Issues é©åˆç”¨ä¾†ï¼Ÿ',
    options:['è¿½è¹¤å•é¡Œ/éœ€æ±‚','ä½ˆç½²éœæ…‹ç¶²ç«™','å„²å­˜äºŒé€²ä½æª”','åŸ·è¡Œæ’ç¨‹å™¨'],
    answer:0,
    explain:'Issues ç”¨ä¾†å”ä½œè¿½è¹¤ bug / ä»»å‹™ã€‚'
  },
];

/********************
 * 2) ç‹€æ…‹èˆ‡è¨­å®š
 ********************/
let state = {
  idx: 0,
  score: 0,
  selected: {},  // æ¯é¡Œé¸å“ªä¸€å€‹ index
  startAt: Date.now(),
  finished: false,
};

const POINTS_PER_Q = 1; // æ¯é¡Œé…åˆ†

/********************
 * 3) DOM å¿«æ·é¸å– + å·¥å…·å‡½å¼
 ********************/
const $  = (s)=>document.querySelector(s);
const quizEl     = $('#quiz');
const progressEl = $('#progress');
const scoreEl    = $('#score');
const timerEl    = $('#timer');
const prevBtn    = $('#prev');
const nextBtn    = $('#next');
const finishBtn  = $('#finish');
const summaryEl  = $('#summary');

function formatTime(sec){
  const m = Math.floor(sec/60).toString().padStart(2,'0');
  const s = Math.floor(sec%60).toString().padStart(2,'0');
  return `${m}:${s}`;
}

/********************
 * 4) ç¹ªè£½é¡Œç›®ç•«é¢
 ********************/
function render(){
  const total = QUESTIONS.length;

  // æ›´æ–° HUD
  progressEl.textContent = `ç¬¬ ${state.idx+1}/${total} é¡Œ`;
  scoreEl.textContent    = `å¾—åˆ†ï¼š${state.score}`;
  prevBtn.disabled       = state.idx === 0;
  nextBtn.style.display  = state.idx < total-1 ? 'inline-block' : 'none';
  finishBtn.style.display= state.idx === total-1 ? 'inline-block' : 'none';

  const q = QUESTIONS[state.idx];
  quizEl.innerHTML = '';

  const card = document.createElement('div');
  card.className = 'card';

  const qEl = document.createElement('div');
  qEl.className = 'q';
  qEl.textContent = q.q;
  card.appendChild(qEl);

  const choices = document.createElement('div');
  choices.className = 'choices';

  q.options.forEach((opt, i) => {
    const btn = document.createElement('button');
    btn.textContent = `${'ABCD'[i]}. ${opt}`;

    const sel = state.selected[state.idx];
    if (sel === i) btn.classList.add('selected');

    btn.addEventListener('click', () => {
      state.selected[state.idx] = i;
      render();
    });

    choices.appendChild(btn);
  });

  card.appendChild(choices);
  quizEl.appendChild(card);
}

/********************
 * 5) äº¤å·è¨ˆç®—æˆç¸¾ï¼ˆåªé¡¯ç¤ºç¸½åˆ†æ•¸ï¼‰
 ********************/
function grade(){
  let score = 0;

  QUESTIONS.forEach((q, i) => {
    const sel = state.selected[i];
    if (sel === q.answer) {
      score += POINTS_PER_Q;
    }
  });

  state.score    = score;
  state.finished = true;

  const maxScore = QUESTIONS.length * POINTS_PER_Q;
  const percent  = Math.round((score / maxScore) * 100);
  const used     = Math.round((Date.now() - state.startAt) / 1000);

  summaryEl.innerHTML = `
    <div class="result">
      <strong>æˆç¸¾</strong>ï¼š${score} / ${maxScore}ï¼ˆ${percent}%ï¼‰<br>
      <strong>ä½œç­”æ™‚é–“</strong>ï¼š${formatTime(used)}
    </div>
  `;

  window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
}

/********************
 * 6) äº‹ä»¶èˆ‡åˆå§‹åŒ–
 ********************/
prevBtn.addEventListener('click', () => {
  if (state.idx > 0) {
    state.idx--;
    render();
  }
});

nextBtn.addEventListener('click', () => {
  if (state.idx < QUESTIONS.length - 1) {
    state.idx++;
    render();
  }
});

finishBtn.addEventListener('click', grade);

// è¨ˆæ™‚å™¨
setInterval(() => {
  if (state.finished) return;
  const sec = (Date.now() - state.startAt) / 1000;
  timerEl.textContent = formatTime(sec);
}, 1000);

// åˆæ¬¡ç•«é¢
render();
</script>
</body>
</html>
